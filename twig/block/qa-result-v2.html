{#
	Show the QA Results
#}

{% import 'block/macro-result.html' as Helpers %}

<style>
section {
	border: 1px inset #999;
	border-radius: 0.25em;
	margin: 0 0 2em 0;
	padding: 0.75em;
}
</style>


<section>
{{ Helpers._qa_section_head("General", "metric-wrap-general") }}

	<div class="collapse metric-wrap show" id="metric-wrap-general">

		{% set index = 0 %}
		{% for metricId, metric in MetricList.General %}
			{% if (index is divisible by(4)) %}
			<div class="row">
			{% endif %}

				<div class="col-md-3">

						{# These test results are pass/fail #}
						{% if 'bool' is same as(metric.meta.uom) %}
							{{ Helpers._qa_testing_status(metric) }}
						{% else %}
							{{ Helpers._qa_pot_input(metric.name, metricId, metric) }}
						{% endif %}
				</div>

			{% if ((index % 4) is same as (3) or index is same as ((MetricList.General|length)-1)) %}
			</div>
			{% endif %}
			{% set index = index + 1 %}
		{% endfor %}

	</div> <!-- /#metric-wrap-general -->
</section>


<!--
	Cannabinoids
-->
<section>
{{ Helpers._qa_section_head("Cannabinoids", "metric-wrap-cb") }}

<div class="collapse metric-wrap" id="metric-wrap-cb">
	{% set index = 0 %}
	{% for metricId, resultTab in MetricList.Cannabinoid %}
		{% if (index is divisible by(4)) %}
		<div class="row">
		{% endif %}

			<div class="col-md-3">
				{{ Helpers._qa_pot_input(resultTab.name, metricId, resultTab) }}
			</div>

		{% if ((index % 4) is same as (3) or index is same as ((MetricList.Cannabinoid|length)-1)) %}
		</div>
		{% endif %}
		{% set index = index + 1 %}
	{% endfor %}

</div> <!-- /.metric-wrap-->
</section>


<!--
	Terpenes
-->
<section>

{{ Helpers._qa_section_head("Terpenes", "metric-wrap-t") }}

<div class="collapse metric-wrap" id="metric-wrap-t">
	<div class="row">
		<div class="col-md-9">
			<div class="btn-group">
				<button class="btn btn-outline-secondary btn-bulk-na" type="button">N/A</button>
				<button class="btn btn-outline-secondary btn-bulk-nt" type="button">N/T</button>
				<button class="btn btn-outline-secondary btn-bulk-az" type="button">Zero</button>
			</div>
		</div>
	</div>

	{% set index = 0 %}
	{% for metricId, result in MetricList.Terpene %}
		{% if (index is divisible by(4)) %}
		<div class="row">
		{% endif %}

			<div class="col-md-3">
				{{ Helpers._qa_pot_input(result.name, result.id, result) }}
			</div>

		{% if ((index % 4) is same as (3) or index is same as ((MetricList.Terpene|length)-1)) %}
		</div>
		{% endif %}

		{# Don't forget to update the index! #}
		{% set index = index + 1 %}
	{% endfor %}

</div> <!-- /#metric-wrap -->
</section>


<!--
	Microbes
-->
<section>

{{ Helpers._qa_section_head("Microbes", "metric-wrap-m") }}

<div class="collapse metric-wrap" id="metric-wrap-m">
	<!-- Status, etc. -->
	<div class="row">
			<div class="col-md-9">
				<div class="btn-group">
					<button class="btn btn-outline-secondary btn-bulk-na" type="button">N/A</button>
					<button class="btn btn-outline-secondary btn-bulk-nt" type="button">N/T</button>
					<button class="btn btn-outline-secondary btn-bulk-az" type="button">Zero</button>
				</div>
			</div>
	</div>

	{% set index = 0 %}
	{% for metricId, result in MetricList.Microbe %}
		{% if (index is divisible by(4)) %}
		<div class="row">
		{% endif %}

			<div class="col-md-3">
				{{ Helpers._qa_pot_input(result.name, result.id, result) }}
			</div>

		{% if ((index % 4) is same as (3) or index is same as ((MetricList.Microbe|length)-1)) %}
		</div>
		{% endif %}

		{# Don't forget to update the index! #}
		{% set index = index + 1 %}
	{% endfor %}

</div> <!-- /#metric-wrap -->
</section>


<!--
	Mycotoxin
-->
<section>

	{{ Helpers._qa_section_head("Mycotoxin", "metric-wrap-mycotoxin") }}

	<div class="collapse metric-wrap" id="metric-wrap-mycotoxin">

		<div class="row">
			<div class="col-md-9">
				<div class="btn-group">
					<button class="btn btn-outline-secondary btn-bulk-na" type="button">N/A</button>
					<button class="btn btn-outline-secondary btn-bulk-nt" type="button">N/T</button>
					<button class="btn btn-outline-secondary btn-bulk-az" type="button">Zero</button>
				</div>
			</div>
		</div>

		{% set index = 0 %}
		{% for metricId, result in MetricList.Mycotoxin %}
			{% if (index is divisible by(4)) %}
			<div class="row">
			{% endif %}

				<div class="col-md-3">
					{{ Helpers._qa_pot_input(result.name, result.id, result) }}
				</div>

			{% if ((index % 4) is same as (3) or index is same as ((MetricList.Solvent|length)-1)) %}
			</div>
			{% endif %}

			{# Don't forget to update the index! #}
			{% set index = index + 1 %}
		{% endfor %}


	</div> <!-- /#metric-wrap-s -->
</section>


<!--
	Pesticides
-->
<section>

{{ Helpers._qa_section_head("Pesticides", "metric-wrap-p") }}

<div class="collapse metric-wrap" id="metric-wrap-p">
<!-- Status, etc. -->
<div class="row">
		<div class="col-md-9">
			<div class="btn-group">
				<button class="btn btn-outline-secondary btn-bulk-na" type="button">N/A</button>
				<button class="btn btn-outline-secondary btn-bulk-nt" type="button">N/T</button>
				<button class="btn btn-outline-secondary btn-bulk-az" type="button">Zero</button>
			</div>
		</div>
</div>

	{% set index = 0 %}
	{% for metricId, resultTab in MetricList.Pesticide %}
		{% if (index is divisible by(4)) %}
		<div class="row">
		{% endif %}

			<div class="col-md-3">
				{{ Helpers._qa_pot_input(resultTab.name, resultTab.id, resultTab) }}
			</div>

		{% if ((index % 4) is same as (3) or index is same as ((MetricList.Pesticide|length)-1)) %}
		</div>
		{% endif %}

		{# Don't forget to update the index! #}
		{% set index = index + 1 %}
	{% endfor %}


</div> <!-- /#metric-wrap-p -->
</section>


<!--
	Heavy Metal
-->
<section>
{{ Helpers._qa_section_head("Heavy Metals", "metric-wrap-hm") }}

<div class="collapse metric-wrap" id="metric-wrap-hm">
<div class="row">
		<div class="col-md-9">
			<div class="btn-group">
				<button class="btn btn-outline-secondary btn-bulk-na" type="button">N/A</button>
				<button class="btn btn-outline-secondary btn-bulk-nt" type="button">N/T</button>
				<button class="btn btn-outline-secondary btn-bulk-az" type="button">Zero</button>
			</div>
		</div>
</div>

	{% set index = 0 %}
	{% for metricId, result in MetricList.Metal %}
		{% if (index is divisible by(4)) %}
		<div class="row">
		{% endif %}

			<div class="col-md-3">
				{{ Helpers._qa_pot_input(result.name, result.id, result) }}
			</div>

		{% if ((index % 4) is same as (3) or index is same as ((MetricList.Metal|length)-1)) %}
		</div>
		{% endif %}

		{# Don't forget to update the index! #}
		{% set index = index + 1 %}
	{% endfor %}


</div>
</section>


<!--
	Solvents
-->
<section>
{{ Helpers._qa_section_head("Solvents", "metric-wrap-s") }}

<div class="collapse metric-wrap" id="metric-wrap-s">
	<!-- Status, etc. -->
	<div class="row">
		<div class="col-md-3">
			<div class="btn-group">
				<button class="btn btn-outline-secondary btn-bulk-na" type="button">N/A</button>
				<button class="btn btn-outline-secondary btn-bulk-nt" type="button">N/T</button>
				<button class="btn btn-outline-secondary btn-bulk-az" type="button">Zero</button>
			</div>
		</div>
	</div>

	{% set index = 0 %}
	{% for metricId, result in MetricList.Solvent %}
		{% if (index is divisible by(4)) %}
		<div class="row">
		{% endif %}
			<div class="col-md-3">
				{{ Helpers._qa_pot_input(result.name, result.id, result) }}
			</div>

		{% if ((index % 4) is same as (3) or index is same as ((MetricList.Solvent|length)-1)) %}
		</div>
		{% endif %}

		{# Don't forget to update the index! #}
		{% set index = index + 1 %}
	{% endfor %}


</div> <!-- /#metric-wrap-s -->
</section>
